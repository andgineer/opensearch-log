{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"opensearch-log","text":"<p><code>opensearch-log</code> - \u044d\u0442\u043e Python log handler, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u0440\u044f\u043c\u043e\u0439 \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u043b\u043e\u0433\u043e\u0432 \u0432 OpenSearch \u0438\u043b\u0438 AWS CloudWatch.</p> <p>\u0422\u0430\u043a\u0436\u0435 \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0434\u043b\u044f JSON \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 stdout.</p> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0438\u043b\u0438 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043c\u043e\u0436\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c \u043b\u043e\u0433\u043e\u0432.</p>"},{"location":"#_1","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0414\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 <code>opensearch-log</code> \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>pip install -e \".[cloudwatch,opensearch]\"\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e CloudWatch \u0438\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e OpenSearch, \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0445 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439. \u0414\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 JSON \u0432 stdout \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f.</p>"},{"location":"#_2","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043b\u043e\u0433\u0433\u0435\u0440\u0430","text":"<p>\u0414\u043b\u044f \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043b\u043e\u0433\u0433\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>get_logger</code> \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u043e\u0433\u043e, \u043a\u0443\u0434\u0430 \u0432\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043b\u043e\u0433\u0438.</p> <p>\u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043b\u043e\u0433\u0433\u0435\u0440, \u043d\u043e \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u0442 \u043b\u043e\u0433\u0433\u0435\u0440 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u044f, \u0447\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0432\u044b\u0437\u043e\u0432\u044b <code>logging.getLogger()</code> \u0432\u0435\u0440\u043d\u0443\u0442 \u0442\u043e\u0442 \u0436\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043b\u043e\u0433\u0433\u0435\u0440\u0430.</p>"},{"location":"#opensearch","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043b\u043e\u0433\u043e\u0432 \u0432 OpenSearch","text":"<p>\u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043b\u043e\u0433\u043e\u0432 \u0432 OpenSearch \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 get_logger() \u0438\u0437 opensearch_handler:</p> <pre><code>from opensearch_log import Logging\nfrom opensearch_log.opensearch_handler import get_logger\n\nlogger = get_logger(index_name=\"myindex\", echo_stdout=True)\nwith Logging(my_log_field=\"\u0418\u0437 Python\"):\n    logger.info(\"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440\")\n</code></pre> <p>\u042d\u0442\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0441\u0442 \u0432 OpenSearch \u0437\u0430\u043f\u0438\u0441\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0442\u0430\u043a (\u0432\u044b\u0432\u043e\u0434 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u043e\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u0438):</p> <pre><code>{\n  \"_index\": \"myindex-2023.12.16\",\n  \"_source\": {\n    \"@timestamp\": \"2023-12-16T06:39:19.479Z\",\n    \"msg\": \"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440\",\n    \"my_log_field\": \"\u0418\u0437 Python\"\n  }\n}\n</code></pre> <p>\u041e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0432\u0435\u0434\u0435\u043d\u043e \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 (\u0432\u044b\u0432\u043e\u0434 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u043e\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u0438):</p> <pre><code>{\n  \"message\": \"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440\",\n  \"name\": \"root\",\n  \"my_log_field\": \"\u0418\u0437 Python\"\n}\n</code></pre>"},{"location":"#aws-cloudwatch","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043b\u043e\u0433\u043e\u0432 \u0432 AWS CloudWatch","text":"<p>\u0414\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 AWS CloudWatch \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 get_logger() \u0438\u0437 cloudwatch_handler:</p> <pre><code>from opensearch_log.cloudwatch_handler import get_logger\n\nlogger = get_logger(index_name=\"myindex\", echo_stdout=True)\n</code></pre>"},{"location":"#json-stdout","title":"JSON \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 stdout","text":"<p>\u0414\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439, \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0445 \u0442\u043e\u043b\u044c\u043a\u043e JSON \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0435\u0437 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043b\u043e\u0433\u043e\u0432 \u0432 OpenSearch \u0438\u043b\u0438 AWS CloudWatch, get_logger() \u0438\u0437 stdout_handler:</p> <pre><code>from opensearch_log.stdout_handler import get_logger\n\nlogger = get_logger(index_name=\"myindex\", echo_stdout=True)\n</code></pre>"},{"location":"#_3","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u043a \u043b\u043e\u0433\u0430\u043c","text":"<p>\u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u043e\u0432 \u043f\u043e\u043b\u044f\u043c\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u043e \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430, \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0432\u044b\u0437\u043e\u0432\u043e\u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0439.</p> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432\u043e \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0432.</p>"},{"location":"#_4","title":"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440","text":"<pre><code>from opensearch_log import Logging\n\nwith Logging(my_log_field=\"\u0418\u0437 Python\"):\n    logger.info(\"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440\")\n</code></pre>"},{"location":"#_5","title":"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440","text":"<pre><code>from opensearch_log import log_fields\n\n@log_fields(my_log_field=\"\u0418\u0437 Python\")\ndef my_func():\n    logger.info(\"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440\")\n</code></pre>"},{"location":"#_6","title":"\u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438","text":"<pre><code>from opensearch_log import add_log_fields, remove_log_fields\n\nadded_fields = add_log_fields(my_log_field=\"\u0418\u0437 Python\")\ntry:\n    logger.info(\"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440\")\nfinally:\n    remove_log_fields(*added_fields)\n</code></pre>"},{"location":"reference/","title":"Reference","text":""},{"location":"reference/#opensearch_log","title":"opensearch_log","text":"<p>A Python logging handler for efficient and reliable direct log transmission to OpenSearch.</p>"},{"location":"reference/#opensearch_log-attributes","title":"Attributes","text":""},{"location":"reference/#opensearch_log.urllib3_logger","title":"opensearch_log.urllib3_logger  <code>module-attribute</code>","text":"<pre><code>urllib3_logger = getLogger('opensearch')\n</code></pre>"},{"location":"reference/#opensearch_log-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.Logging","title":"opensearch_log.Logging","text":"<p>Context manager to add fields to log records.</p>"},{"location":"reference/#opensearch_log.Logging-attributes","title":"Attributes","text":""},{"location":"reference/#opensearch_log.Logging.added_fields","title":"opensearch_log.Logging.added_fields  <code>instance-attribute</code>","text":"<pre><code>added_fields: list[str] = []\n</code></pre>"},{"location":"reference/#opensearch_log.Logging.values","title":"opensearch_log.Logging.values  <code>instance-attribute</code>","text":"<pre><code>values = values\n</code></pre>"},{"location":"reference/#opensearch_log-functions","title":"Functions","text":""},{"location":"reference/#opensearch_log.add_log_fields","title":"opensearch_log.add_log_fields","text":"<pre><code>add_log_fields(**values: Any) -&gt; list[str]\n</code></pre> <p>Include fields to all log records.</p>"},{"location":"reference/#opensearch_log.log_fields","title":"opensearch_log.log_fields","text":"<pre><code>log_fields(func: Optional[Any] = None, **values: Any) -&gt; Any\n</code></pre> <p>Decorate to include fields <code>values</code> to all log records.</p>"},{"location":"reference/#opensearch_log.remove_log_fields","title":"opensearch_log.remove_log_fields","text":"<pre><code>remove_log_fields(*fields: str) -&gt; None\n</code></pre> <p>Remove logged fields.</p>"},{"location":"reference/#opensearch_log-modules","title":"Modules","text":""},{"location":"reference/#opensearch_log.base_handler","title":"opensearch_log.base_handler","text":"<p>Base logger for structured logging.</p>"},{"location":"reference/#opensearch_log.base_handler-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.base_handler.BaseHandler","title":"opensearch_log.base_handler.BaseHandler","text":"<p>             Bases: <code>Handler</code></p> <p>Abstract base handler for structured logging.</p> Functions <code></code> opensearch_log.base_handler.BaseHandler.emit <pre><code>emit(record: LogRecord) -&gt; None\n</code></pre> <p>Emit a logging record in a processed format.</p> <code></code> opensearch_log.base_handler.BaseHandler.send_message <pre><code>send_message(message: Optional[str], record: LogRecord) -&gt; None\n</code></pre> <p>Send the log message. This method should be implemented by subclasses.</p>"},{"location":"reference/#opensearch_log.cloudwatch_handler","title":"opensearch_log.cloudwatch_handler","text":"<p>Structured logger that sends logs to AWS CloudWatch.</p>"},{"location":"reference/#opensearch_log.cloudwatch_handler-attributes","title":"Attributes","text":""},{"location":"reference/#opensearch_log.cloudwatch_handler.BUFFER_SIZE","title":"opensearch_log.cloudwatch_handler.BUFFER_SIZE  <code>module-attribute</code>","text":"<pre><code>BUFFER_SIZE = 100\n</code></pre>"},{"location":"reference/#opensearch_log.cloudwatch_handler.FLUSH_SECONDS","title":"opensearch_log.cloudwatch_handler.FLUSH_SECONDS  <code>module-attribute</code>","text":"<pre><code>FLUSH_SECONDS = 3.0\n</code></pre>"},{"location":"reference/#opensearch_log.cloudwatch_handler.RETRY_NUM","title":"opensearch_log.cloudwatch_handler.RETRY_NUM  <code>module-attribute</code>","text":"<pre><code>RETRY_NUM = 3\n</code></pre>"},{"location":"reference/#opensearch_log.cloudwatch_handler-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.cloudwatch_handler.CloudwatchHandler","title":"opensearch_log.cloudwatch_handler.CloudwatchHandler","text":"<p>             Bases: <code>BaseHandler</code></p> <p>Handler that sends log records to AWS CloudWatch.</p> Attributes <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.buffer_size <code>instance-attribute</code> <pre><code>buffer_size = BUFFER_SIZE\n</code></pre> <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.flush_seconds <code>instance-attribute</code> <pre><code>flush_seconds = FLUSH_SECONDS\n</code></pre> <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.log_client <code>property</code> <pre><code>log_client: client\n</code></pre> <p>Get the boto3 client for CloudWatch logs.</p> <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.log_group <code>instance-attribute</code> <pre><code>log_group = log_group\n</code></pre> <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.log_stream <code>instance-attribute</code> <pre><code>log_stream = log_stream\n</code></pre> Functions <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.close <pre><code>close() -&gt; None\n</code></pre> <p>Flush the buffer and release any outstanding resource.</p> <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.flush <pre><code>flush() -&gt; None\n</code></pre> <p>Flush the buffer to CloudWatch.</p> <p>Could run from Timer's thread or from the main thread. So we should not use json_formatter's routines that access ThreadLocal variables.</p> <code></code> opensearch_log.cloudwatch_handler.CloudwatchHandler.send_message <pre><code>send_message(message: Optional[str], record: LogRecord) -&gt; None\n</code></pre> <p>Buffer the log message and flush if necessary.</p>"},{"location":"reference/#opensearch_log.cloudwatch_handler-functions","title":"Functions","text":""},{"location":"reference/#opensearch_log.cloudwatch_handler.get_logger","title":"opensearch_log.cloudwatch_handler.get_logger","text":"<pre><code>get_logger(*args: Any, echo_stdout: bool = False, log_group: str, log_stream: str, log_handler: Optional[BaseHandler] = None, **kwargs: Any) -&gt; Logger\n</code></pre> <p>Create a logger that stream logs to CloudWatch.</p>"},{"location":"reference/#opensearch_log.cloudwatch_handler-modules","title":"Modules","text":""},{"location":"reference/#opensearch_log.json_log","title":"opensearch_log.json_log","text":"<p>JSON logging.</p>"},{"location":"reference/#opensearch_log.json_log-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.json_log.Logging","title":"opensearch_log.json_log.Logging","text":"<p>Context manager to add fields to log records.</p> Attributes opensearch_log.json_log.Logging.added_fields <code>instance-attribute</code> <pre><code>added_fields: list[str] = []\n</code></pre> <code></code> opensearch_log.json_log.Logging.values <code>instance-attribute</code> <pre><code>values = values\n</code></pre>"},{"location":"reference/#opensearch_log.json_log-functions","title":"Functions","text":""},{"location":"reference/#opensearch_log.json_log.add_log_fields","title":"opensearch_log.json_log.add_log_fields","text":"<pre><code>add_log_fields(**values: Any) -&gt; list[str]\n</code></pre> <p>Include fields to all log records.</p>"},{"location":"reference/#opensearch_log.json_log.create_logger","title":"opensearch_log.json_log.create_logger","text":"<pre><code>create_logger(log_handler_instance: BaseHandler, level: int, clear_handlers: bool = False) -&gt; Logger\n</code></pre> <p>Create a logger that stream logs in JSON format with additional fields.</p>"},{"location":"reference/#opensearch_log.json_log.get_json_formatter","title":"opensearch_log.json_log.get_json_formatter","text":"<pre><code>get_json_formatter() -&gt; JsonFormatter\n</code></pre> <p>Get a JSON formatter.</p>"},{"location":"reference/#opensearch_log.json_log.get_logger","title":"opensearch_log.json_log.get_logger","text":"<pre><code>get_logger(application: Optional[str] = sys.argv[0], *, log_handler: BaseHandler, level: int = logging.INFO, clear_handlers: bool = False, **values: Any) -&gt; Logger\n</code></pre> <p>Get a JSON logger.</p>"},{"location":"reference/#opensearch_log.json_log.log_fields","title":"opensearch_log.json_log.log_fields","text":"<pre><code>log_fields(func: Optional[Any] = None, **values: Any) -&gt; Any\n</code></pre> <p>Decorate to include fields <code>values</code> to all log records.</p>"},{"location":"reference/#opensearch_log.json_log.remove_handlers","title":"opensearch_log.json_log.remove_handlers","text":"<pre><code>remove_handlers(_logger: Logger) -&gt; None\n</code></pre> <p>Remove any default handlers.</p>"},{"location":"reference/#opensearch_log.json_log.remove_log_fields","title":"opensearch_log.json_log.remove_log_fields","text":"<pre><code>remove_log_fields(*fields: str) -&gt; None\n</code></pre> <p>Remove logged fields.</p>"},{"location":"reference/#opensearch_log.json_log.replace_logger_fields","title":"opensearch_log.json_log.replace_logger_fields","text":"<pre><code>replace_logger_fields(fields_to_log: dict[str, Any]) -&gt; None\n</code></pre> <p>Update logger with new fields to log.</p>"},{"location":"reference/#opensearch_log.json_log.set_record_factory","title":"opensearch_log.json_log.set_record_factory","text":"<pre><code>set_record_factory() -&gt; None\n</code></pre> <p>Set a log record factory.</p>"},{"location":"reference/#opensearch_log.opensearch_handler","title":"opensearch_log.opensearch_handler","text":"<p>Structured logger that sends logs to AWS OpenSearch.</p>"},{"location":"reference/#opensearch_log.opensearch_handler-attributes","title":"Attributes","text":""},{"location":"reference/#opensearch_log.opensearch_handler.BUFFER_SIZE","title":"opensearch_log.opensearch_handler.BUFFER_SIZE  <code>module-attribute</code>","text":"<pre><code>BUFFER_SIZE = 200\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.BULK_SIZE","title":"opensearch_log.opensearch_handler.BULK_SIZE  <code>module-attribute</code>","text":"<pre><code>BULK_SIZE = 15\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.DEFAULT_INDEX_NAME","title":"opensearch_log.opensearch_handler.DEFAULT_INDEX_NAME  <code>module-attribute</code>","text":"<pre><code>DEFAULT_INDEX_NAME = 'myindex'\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.DEFAULT_OPENSEARCH_HOST","title":"opensearch_log.opensearch_handler.DEFAULT_OPENSEARCH_HOST  <code>module-attribute</code>","text":"<pre><code>DEFAULT_OPENSEARCH_HOST = 'localhost'\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.FLUSH_SECONDS","title":"opensearch_log.opensearch_handler.FLUSH_SECONDS  <code>module-attribute</code>","text":"<pre><code>FLUSH_SECONDS = 0.8\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.IGNORED_LOG_RECORD_FIELDS","title":"opensearch_log.opensearch_handler.IGNORED_LOG_RECORD_FIELDS  <code>module-attribute</code>","text":"<pre><code>IGNORED_LOG_RECORD_FIELDS = ['args', 'levelno', 'pathname', 'relativeCreated', 'msecs', 'exc_text']\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.INDEX_DATE_FORMAT","title":"opensearch_log.opensearch_handler.INDEX_DATE_FORMAT  <code>module-attribute</code>","text":"<pre><code>INDEX_DATE_FORMAT = '%Y.%m.%d'\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.RETRY_NUM","title":"opensearch_log.opensearch_handler.RETRY_NUM  <code>module-attribute</code>","text":"<pre><code>RETRY_NUM = 3\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.logger","title":"opensearch_log.opensearch_handler.logger  <code>module-attribute</code>","text":"<pre><code>logger = get_logger(echo_stdout=True)\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.opensearch_handler.IndexRotation","title":"opensearch_log.opensearch_handler.IndexRotation","text":"<p>             Bases: <code>Enum</code></p> <p>Index rotation frequency.</p> Attributes <code></code> opensearch_log.opensearch_handler.IndexRotation.DAILY <code>class-attribute</code> <code>instance-attribute</code> <pre><code>DAILY = 0\n</code></pre> <code></code> opensearch_log.opensearch_handler.IndexRotation.MONTHLY <code>class-attribute</code> <code>instance-attribute</code> <pre><code>MONTHLY = 10\n</code></pre>"},{"location":"reference/#opensearch_log.opensearch_handler.OpensearchHandler","title":"opensearch_log.opensearch_handler.OpensearchHandler","text":"<p>             Bases: <code>BaseHandler</code></p> <p>Handler to send log records to AWS OpenSearch.</p> Attributes <code></code> opensearch_log.opensearch_handler.OpensearchHandler.DAILY <code>class-attribute</code> <code>instance-attribute</code> <pre><code>DAILY = DAILY\n</code></pre> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.MONTHLY <code>class-attribute</code> <code>instance-attribute</code> <pre><code>MONTHLY = MONTHLY\n</code></pre> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.buffer_size <code>instance-attribute</code> <pre><code>buffer_size = buffer_size\n</code></pre> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.flush_seconds <code>instance-attribute</code> <pre><code>flush_seconds = flush_seconds\n</code></pre> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.index_name <code>instance-attribute</code> <pre><code>index_name = index_name\n</code></pre> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.index_rotate <code>instance-attribute</code> <pre><code>index_rotate = IndexRotation[index_rotate]\n</code></pre> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.opensearch_host <code>instance-attribute</code> <pre><code>opensearch_host = opensearch_host\n</code></pre> Functions <code></code> opensearch_log.opensearch_handler.OpensearchHandler.close <pre><code>close() -&gt; None\n</code></pre> <p>Flush the buffer on close.</p> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.emit <pre><code>emit(record: LogRecord) -&gt; None\n</code></pre> <p>Emit a logging record in a processed format.</p> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.flush <pre><code>flush() -&gt; None\n</code></pre> <p>Flush the buffer.</p> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.is_connected <pre><code>is_connected() -&gt; bool\n</code></pre> <p>Return True if we can ping the OpenSearch.</p> <code></code> opensearch_log.opensearch_handler.OpensearchHandler.send_message <pre><code>send_message(message: Optional[str], record: LogRecord) -&gt; None\n</code></pre> <p>Send the log message to OpenSearch.</p>"},{"location":"reference/#opensearch_log.opensearch_handler-functions","title":"Functions","text":""},{"location":"reference/#opensearch_log.opensearch_handler.get_logger","title":"opensearch_log.opensearch_handler.get_logger","text":"<pre><code>get_logger(*args: Any, opensearch_host: str = DEFAULT_OPENSEARCH_HOST, index_name: str = DEFAULT_INDEX_NAME, index_rotate: Union[IndexRotation, str] = IndexRotation.DAILY, echo_stdout: bool = False, buffer_size: int = BUFFER_SIZE, flush_seconds: float = FLUSH_SECONDS, log_handler: Optional[BaseHandler] = None, **kwargs: Any) -&gt; Logger\n</code></pre> <p>Create a logger that stream logs to OpenSearch.</p>"},{"location":"reference/#opensearch_log.opensearch_handler.restore_logger","title":"opensearch_log.opensearch_handler.restore_logger","text":"<pre><code>restore_logger() -&gt; None\n</code></pre> <p>Flush and remove all handlers.</p>"},{"location":"reference/#opensearch_log.opensearch_handler-modules","title":"Modules","text":""},{"location":"reference/#opensearch_log.opensearch_serializer","title":"opensearch_log.opensearch_serializer","text":"<p>JSON serializer.</p>"},{"location":"reference/#opensearch_log.opensearch_serializer-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.opensearch_serializer.OpenSearchSerializer","title":"opensearch_log.opensearch_serializer.OpenSearchSerializer","text":"<p>             Bases: <code>JSONSerializer</code></p> <p>Override OpenSearch JSON serializer.</p> <p>Ignore serialization errors.</p> Functions <code></code> opensearch_log.opensearch_serializer.OpenSearchSerializer.default <pre><code>default(data: Any) -&gt; Any\n</code></pre> <p>Catch all serialization fails and fall to str.</p>"},{"location":"reference/#opensearch_log.stdout_handler","title":"opensearch_log.stdout_handler","text":"<p>JSON logging to stdout.</p>"},{"location":"reference/#opensearch_log.stdout_handler-classes","title":"Classes","text":""},{"location":"reference/#opensearch_log.stdout_handler.StdoutHandler","title":"opensearch_log.stdout_handler.StdoutHandler","text":"<p>             Bases: <code>BaseHandler</code></p> <p>Handler to send json log to stdout.</p> Functions <code></code> opensearch_log.stdout_handler.StdoutHandler.send_message <pre><code>send_message(message: Optional[str], record: LogRecord) -&gt; None\n</code></pre> <p>Send the log message to stdout.</p>"},{"location":"reference/#opensearch_log.stdout_handler-functions","title":"Functions","text":""},{"location":"reference/#opensearch_log.stdout_handler.add_stdout_json_handler","title":"opensearch_log.stdout_handler.add_stdout_json_handler","text":"<pre><code>add_stdout_json_handler(logger: Logger) -&gt; None\n</code></pre> <p>Add a stdout handler to the logger.</p>"},{"location":"reference/#opensearch_log.stdout_handler.get_logger","title":"opensearch_log.stdout_handler.get_logger","text":"<pre><code>get_logger(application: Optional[str] = None, branch: Optional[str] = None, *, level: int = logging.INFO, clear_handlers: bool = False, **values: Any) -&gt; Logger\n</code></pre> <p>Get a logger to send JSON logs to stdout.</p>"},{"location":"reference/#opensearch_log.stdout_handler-modules","title":"Modules","text":""}]}